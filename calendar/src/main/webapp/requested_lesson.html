<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Requested Tasks</title>
<!--#include virtual="head.html" -->
<script type='text/javascript' src='dwr/interface/LessonService.js'></script>
<script type="text/javascript" src="scripts/validator.js"></script>
<script type="text/javascript" src="scripts/ui/list.js"></script>
<script type="text/javascript" src="code/lessonlist_renderer.js"></script>
<script type="text/javascript" src="code/requested_lesson.js"></script>
<script>
	$(function() {

		otms.namespace('otms.reqLessonPage');

		var list = new otms.ui.list.List($('#list_container'));
		list.setRenderer(lessonListRenderer());
		list.setPopupRenderer(popupRenderer);

		list.titleContainer = $('#title_container');
		list.renderTitle = function(length) {
			var msg = 'You have {0} requested lessons';
			return otms.FormatUtil.format(msg, length == 0 ? 'no' : length);
		};

		list.hasPopup = function(data) {
			return userType == 'tutor';
		};

		otms.reqLessonPage.list = list;

		refreshList();
	});
</script>
</head>
<body>
	<div id="page">
		<!--#include virtual="header.html" -->
		<div id="errmsg_panel" class="centerpanel"></div>
		<!--#include virtual="menu.html" -->
		<div id="page_content">
			<div class="page_title">Requested Lessons</div>
			<div class="page_block">
				<div id="title_container"></div>
				<div id="list_container" class="centerpanel"></div>
			</div>
		</div>
	</div>
	<!--#include virtual="footer.html" -->
</body>
</html>